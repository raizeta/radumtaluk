<div ng-include="'angular/partial/headtemplate.html'"></div>
<div ng-include="'angular/partial/homemenu.html'"></div>

<div class="content-wrapper">
  <section class="content">
    <div class="row">
      <span data-ng-show="loading" us-spinner="{radius:30, width:8, length: 16}"></span>
      <div ng-cloack class="tabsdemoStaticTabs">
        <md-content class="md-padding">
          <md-tabs md-dynamic-height md-border-bottom class="md-accent" >
            <md-tab id="tab1">
              <md-tab-label>{{blabla}}</md-tab-label>
              <md-tab-body>
                  <md-list>
                    <section class="content">
                      <div class="row">
                        <div class="col-md-12">
                          <!-- The time line -->
                          <ul class="timeline">
                            <li class="time-label">
                              <span class="bg-green">
                                  Start Action
                              </span>
                            </li>
                            <li >
                              <i ng-class="statusstartpicture.icon"></i>
                              <div class="timeline-item" ng-click="starttakeapicture()" >
                                <span class="time"><i class="fa fa-clock-o"></i> Do It!</span>
                                <h3 class="timeline-header" ng-class="statusstartpicture.bgcolor">    Start Picture
                                </h3>
                              </div>
                            </li>
                            <li>
                              <i ng-class="statusbarangstockqty.icon"></i>
                              <div class="timeline-item" >
                                <div class="box">
                                    <div class="box-header" ng-class="statusbarangstockqty.bgcolor">
                                      <h3 class="box-title">Stock Quantity</h3>

                                      <div class="box-tools pull-right">
                                        <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i>
                                        </button>
                                      </div>
                                    </div>
                                    <!-- /.box-header -->
                                    <div class="box-body" style="display: block;">
                                      <div class="timeline-body" ng-show="statusbarangstockqty.show">
                                          <img ng-repeat="barang in barangstockqty" src="asset/graph/{{barang.KD_BARANG}}.png" class="img-circle" id="{{$index}}" ng-click="updateinventoryqty(barang,$index,1)">
                                      </div>
                                    </div>
                                </div>
                              </div>
                            </li>
                            <li>
                              <i ng-class="statusbarangsellout.icon"></i>
                              <div class="timeline-item" >
                                <div class="box">
                                    <div class="box-header" ng-class="statusbarangsellout.bgcolor">
                                      <h3 class="box-title">Sell Out</h3>

                                      <div class="box-tools pull-right">
                                        <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i>
                                        </button>
                                      </div>
                                    </div>
                                    <!-- /.box-header -->
                                    <div class="box-body" style="display: block;">
                                      <div class="timeline-body" ng-show="statusbarangsellout.show">
                                          <img ng-repeat="barang in barangsellout" src="asset/graph/{{barang.KD_BARANG}}.png" class="img-circle" id="{{$index}}" ng-click="updateinventoryqty(barang,$index,2)">
                                      </div>
                                    </div>
                                </div>
                              </div>
                            </li>
                            <li>
                              <i ng-class="statusbarangsellin.icon"></i>
                              <div class="timeline-item" >
                                <div class="box">
                                    <div class="box-header" ng-class="statusbarangsellin.bgcolor">
                                      <h3 class="box-title">Sell In</h3>

                                      <div class="box-tools pull-right">
                                        <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i>
                                        </button>
                                      </div>
                                    </div>
                                    <!-- /.box-header -->
                                    <div class="box-body" style="display: block;">
                                      <div class="timeline-body" ng-show="statusbarangsellin.show">
                                        <img ng-repeat="barang in barangsellin" src="asset/graph/{{barang.KD_BARANG}}.png" class="img-circle" id="{{$index}}" ng-click="updateinventoryqty(barang,$index,3)">
                                      </div>
                                    </div>
                                </div>
                              </div>
                            </li>
                            <li>
                              <i ng-class="statusbarangexpired.icon"></i>
                              <div class="timeline-item" >
                                <div class="box">
                                    <div class="box-header" ng-class="statusbarangexpired.bgcolor">
                                      <h3 class="box-title">Expired</h3>
                                      <div class="box-tools pull-right">
                                        <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i>
                                        </button>
                                      </div>
                                    </div>
                                    <!-- /.box-header -->
                                    <div class="box-body" style="display: block;">
                                      <div class="timeline-body" ng-show="statusbarangexpired.show">
                                        <img ng-repeat="barang in barangexpired" src="asset/graph/{{barang.KD_BARANG}}.png"  class="img-circle" id="{{$index}}" ng-click="showmodal(barang,$index)">
                                      </div>
                                    </div>
                                </div>
                              </div>
                            </li>
                            <li >
                              <i ng-class="statusendpicture.icon"></i>
                              <div class="timeline-item" ng-click="endtakeapicture()" >
                                <span class="time"><i class="fa fa-clock-o"></i> Do It!</span>
                                <h3 class="timeline-header" ng-class="statusendpicture.bgcolor">    End Picture
                                </h3>
                              </div>
                            </li>
                            <li>
                              <i ng-class="statusmessageskunjungan.icon"></i>
                              <div class="timeline-item" >
                                <div class="box">
                                    <div class="box-header" ng-class="statusmessageskunjungan.bgcolor">
                                      <h3 class="box-title">Note Kunjungan</h3>
                                      <div class="box-tools pull-right">
                                        <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i>
                                        </button>
                                      </div>
                                    </div>
                                    <!-- /.box-header -->
                                    <form name="customerForm" ng-submit="submitForm(salesmanmemo)" method="post" novalidate>
                                    <div class="box-body" ng-disabled="messageskunjungandisabled">
                                      <div class="form-group" ng-class="{ 'has-error' : customerForm.ISI_MESSAGES.$invalid && !customerForm.ISI_MESSAGES.$pristine,'has-success':customerForm.ISI_MESSAGES.$valid  }">
                                        <textarea class="form-control" name="ISI_MESSAGES" class="form-control" ng-model="salesmanmemo.ISI_MESSAGES"  rows="3" placeholder="Memo Kunjungan ..." ng-disabled="messageskunjungandisabled" required></textarea>
                                      </div>
                                    </div>
                                    <div class="box-footer clearfix">
                                      <button type="submit" ng-disabled="customerForm.$invalid || messageskunjungandisabled" class="pull-right btn btn-default" id="sendEmail">Send
                                        <i class="fa fa-arrow-circle-right"></i></button>
                                    </div>
                                  </form>
                                </div>
                              </div>
                            </li>
                            <li class="time-label">
                              <span class="bg-red">
                                  <a href="" ng-click="checkout(checkouttanggal,checkoutcustomer)">CheckOut Action</a>
                              </span>
                            </li>

                            
                          </ul>
                        </div>
                        <!-- /.col -->
                      </div>
                    </section>
                  </md-list>   
              </md-tab-body>
            </md-tab>
            
            <md-tab id="tab2">
              <md-tab-label>MAP {{customer.CUST_KD}}</md-tab-label>
              <md-tab-body>
                  <ng-map zoom="15" center="{{googlemaplat}},{{googlemaplong}}" style="display:block; width:100%; height:400px" scrollwheel="false">
                      <marker position="{{googlemaplat}},{{googlemaplong}}" on-click="toggleBounce()" animation="BOUNCE" draggable="false"></marker>

                      <marker position="{{CUST_MAP_LAT}}, {{CUST_MAP_LNG}}"  draggable="false" icon='http://google-maps-icons.googlecode.com/files/factory.png'></marker>

                      <shape name="circle"
                          stroke-color="#FF0000"
                          stroke-opacity="0.8"
                          stroke-weight="2"
                          fill-color="#FF0000"
                          fill-opacity="0.35"
                          center="{{CUST_MAP_LAT}}, {{CUST_MAP_LNG}}"
                          radius="100">
                      </shape>
                  </ng-map>
              </md-tab-body>
            </md-tab>

            <md-tab id="tab3" ng-click="summary()">
              <md-tab-label>SUMMARY</md-tab-label>
              <md-tab-body>
                  <section class="content">
                    <div class="row" >
                      <div class="col-md-12">
                        <div class="panel panel-danger">
                          <div class="panel-body table-responsive">
                             <table class="table table-hover table-striped table-bordered">
                              <thead>
                                <th>Product</th>
                                <th>Nama Product</td>
                                <th>Stock Qty</th>
                                <th>Sell Out</th>
                                <th>Sell In</th>
                              </thead>
                              <tbody>
                                <tr ng-repeat="barangsummary in BarangSummary">
                                  <td>{{barangsummary.KD_BARANG}}</td>
                                  <td>{{barangsummary.NAME_ITEM}}</td>
                                  <td>{{barangsummary.STOCK}}</td>
                                  <td>{{barangsummary.SELL_OUT}}</td>
                                  <td>{{barangsummary.SELL_IN}}</td>
                                </tr>
                                <!-- <tr>
                                  <td>Total</td>
                                  <td>{{totalstockqty}}</td>
                                  <td>{{totalsellout}}</td>
                                  <td>{{totalsellin}}</td>
                                </tr> -->
                              </tbody>
                             </table>
                          </div>
                        </div>
                      </div>
                    </div>
                  </section><!-- /.content -->
              </md-tab-body>
            </md-tab>
          </md-tabs>
        </md-content>
      </div>
    </div>
  </section><!-- /.content -->
</div><!-- /.content-wrapper -->
<div ng-include="'angular/partial/foottemplate.html'"></div>
 